version: "2.0"

session_config:
    session_expiration_time: 60
    carry_over_splots_to_new_session: true

intents:
- greet
- goodbye
- ground_services
- find_flight
- curiosity

entities:
- city
- date

slots:
    from_city:
        type: text
        influence_conversation: false
    destination_city:
        type: text
        influence_conversation: false
    ground_city:
        type: text
        influence_conversation: false

responses:
    utter_greet:
        - text: Hey there, my name is Brisa.
        - text: Hi, I'm Brisa!
        - text: Hi! My name's Brisa.
    utter_goodbye:
        - text: Bye
    utter_react_negative:
        - text: 😕
        - text: 😞
        - text: 😥
        - text: 😢
    utter_react_positive:
        - text: 😄
        - text: 😊
        - text: 👏
        - text: 😍    
    utter_ask_destination_city:
        - text: Where do you want to travel to?
    utter_ask_from_city:
        - text: Where do you want to travel from?
    utter_found_flight:
        - text: You will travel from {from_city} to {destination_city}.
    utter_found_ground:
        - text: You want ground transportation on {ground_city}.
    utter_no_available_flights:
        - text: I'm sorry, I didn't find any flight available for the period that you've asked
    utter_show_available_flight:
        - text: "I've found this flight: Flight {flight_number} from {origin_city} to {destination_city} at {hour} on {month} {day}."
    utter_find_flight_price:
        - text: "I've found this flight: Flight {flight_number} from {origin_city} to {destination_city} at {hour} on {month} {day} costing {price} dollars."
    utter_find_flight:
        - text: "OK, I'll try to find this flight for you"
    airfare_find:
        - text: "Here are some flights I've found according to what you asked: from {origin_city} to {destination_city}"

# Actions
actions:
- find_flight
- curiosity
- utter_found_flight
- utter_goodbye
- submit_flight_form

forms:
  find_flight_form:
    required_slots:
      from_city:
      - type: from_entity
        entity: city
        role: from_city
      destination_city:
      - type: from_entity
        entity: city
        role: destination_city

  find_ground_form:
    required_slots:
      ground_city:
      - type: from_entity
        entity: city
        role: ground_city
